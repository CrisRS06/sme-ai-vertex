# System Flow Diagram - SME AI Vertex

**Diagramas visuales de la experiencia de usuario end-to-end**

---

## ğŸ”„ Flujo Completo del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SME AI VERTEX                               â”‚
â”‚              Injection Molding Feasibility Analysis                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 1: SETUP     â”‚  (One-time, Admin)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Admin User  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Run setup scripts
           â”‚    â””â”€ setup_gcp.sh
           â”‚    â””â”€ setup_rag_engine.sh
           â”‚    â””â”€ setup_vector_search.sh
           â”‚
           â”œâ”€â”€â–º Deploy to Cloud Run
           â”‚    â””â”€ deploy_cloudrun.sh
           â”‚
           â””â”€â”€â–º âœ… System Ready
                â””â”€ https://api.run.app


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 2: KNOWLEDGE â”‚  (Ongoing, Admin)
â”‚       BASE        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Admin User  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Upload PDFs (Manuals, Specs)
           â”‚    â””â”€ Molding_Best_Practices.pdf
           â”‚    â””â”€ Material_Specifications.pdf
           â”‚    â””â”€ GD&T_Reference_Guide.pdf
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   BACKEND PROCESSING             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 1. Upload â†’ Cloud Storage        â”‚
    â”‚ 2. Extract Text (PyPDF2)         â”‚
    â”‚ 3. Chunk (512 tokens)            â”‚
    â”‚ 4. Embeddings (text-embed-005)   â”‚
    â”‚ 5. Index â†’ RAG Engine            â”‚
    â”‚ 6. Index â†’ Vector Search         â”‚
    â”‚ 7. Update Database               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         âœ… Indexed & Searchable


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 3: DRAWING   â”‚  (Main Flow, Engineer)
â”‚     ANALYSIS      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Engineer   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Upload Technical Drawing
           â”‚    â””â”€ Gen6_Housing_Rev3.pdf (5 pages)
           â”‚    â””â”€ Project: "Gen6"
           â”‚    â””â”€ Quality: Flash
           â”‚
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            ANALYSIS PIPELINE (40 seconds)            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                      â”‚
    â”‚  STEP 1: PDF Processing (10s)                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚ â€¢ Convert PDF â†’ PNG (300 DPI)  â”‚                 â”‚
    â”‚  â”‚ â€¢ Upload to Cloud Storage      â”‚                 â”‚
    â”‚  â”‚ â€¢ Generate embeddings (1408)   â”‚                 â”‚
    â”‚  â”‚ â€¢ Store in Vector Search       â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚           â”‚                                          â”‚
    â”‚           â–¼                                          â”‚
    â”‚  STEP 2: Visual Analysis (20s)                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚ GEMINI 2.5 FLASH (with cache)  â”‚                 â”‚
    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
    â”‚  â”‚ Input: 5 PNG images            â”‚                 â”‚
    â”‚  â”‚ Prompt: Extract dimensions,    â”‚                 â”‚
    â”‚  â”‚         GD&T, tolerances       â”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ Output (JSON):                 â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 49 Dimensions               â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 12 GD&T specs               â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 3 Surface finishes          â”‚                 â”‚
    â”‚  â”‚ â””â”€ 8 Notes                     â”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ OCR Fallback (if needed):      â”‚                 â”‚
    â”‚  â”‚ â””â”€ Document AI Layout Parser   â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚           â”‚                                          â”‚
    â”‚           â–¼                                          â”‚
    â”‚  STEP 3: Exception Validation (5s)                  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚   EXCEPTION ENGINE             â”‚                 â”‚
    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
    â”‚  â”‚ Check against best practices:  â”‚                 â”‚
    â”‚  â”‚ â€¢ Wall thickness â‰¥ 1.5mm       â”‚                 â”‚
    â”‚  â”‚ â€¢ Draft angle â‰¥ 1-2Â°           â”‚                 â”‚
    â”‚  â”‚ â€¢ Tolerances achievable        â”‚                 â”‚
    â”‚  â”‚ â€¢ No undercuts                 â”‚                 â”‚
    â”‚  â”‚ â€¢ Flow path analysis           â”‚                 â”‚
    â”‚  â”‚ â€¢ Warp risk assessment         â”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ Results:                       â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 2 Critical issues           â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 5 High priority             â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ 8 Medium                    â”‚                 â”‚
    â”‚  â”‚ â””â”€ 3 Low                       â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚           â”‚                                          â”‚
    â”‚           â–¼                                          â”‚
    â”‚  STEP 4: Report Generation (5s)                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚   REPORT GENERATOR             â”‚                 â”‚
    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
    â”‚  â”‚ Generate:                      â”‚                 â”‚
    â”‚  â”‚ 1. Executive Report (2 pages)  â”‚                 â”‚
    â”‚  â”‚    â””â”€ Summary + Critical issuesâ”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ 2. Detailed Report (8 pages)   â”‚                 â”‚
    â”‚  â”‚    â””â”€ All data + Evidence      â”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ Upload to GCS:                 â”‚                 â”‚
    â”‚  â”‚ â”œâ”€ executive_report.pdf        â”‚                 â”‚
    â”‚  â”‚ â””â”€ detailed_report.pdf         â”‚                 â”‚
    â”‚  â”‚                                â”‚                 â”‚
    â”‚  â”‚ Generate signed URLs (1h TTL)  â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚                                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              RESULTS READY                           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Status: âœ… Completed                                â”‚
    â”‚  Time: 42 seconds                                    â”‚
    â”‚                                                      â”‚
    â”‚  ğŸ“Š Extraction:                                      â”‚
    â”‚  â””â”€ 49 dimensions, 12 GD&T, 3 finishes              â”‚
    â”‚                                                      â”‚
    â”‚  âš ï¸  Exceptions:                                     â”‚
    â”‚  â””â”€ 2 critical, 5 high, 8 medium, 3 low             â”‚
    â”‚                                                      â”‚
    â”‚  ğŸ“„ Reports:                                         â”‚
    â”‚  â”œâ”€ [Download Executive Report]                     â”‚
    â”‚  â””â”€ [Download Detailed Report]                      â”‚
    â”‚                                                      â”‚
    â”‚  ğŸ’¬ [Chat with AI Expert]                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 4: CHAT WITH â”‚  (Interactive, Any User)
â”‚    AI EXPERT      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Any User   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Ask question about analysis
           â”‚    â””â”€ "Why is 1.2mm wall too thin?"
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            CHAT PIPELINE (2-3 seconds)               â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                      â”‚
    â”‚  1. Build Analysis Context                          â”‚
    â”‚     â””â”€ Load analysis results (dims, GD&T, exceptions)â”‚
    â”‚                                                      â”‚
    â”‚  2. RAG Retrieval (parallel)                        â”‚
    â”‚     â”œâ”€ Query Knowledge Base (RAG Engine)            â”‚
    â”‚     â”‚  â””â”€ Top 5 relevant chunks                     â”‚
    â”‚     â”‚                                                â”‚
    â”‚     â””â”€ Query Vector Search                          â”‚
    â”‚        â””â”€ Similar visual references                 â”‚
    â”‚                                                      â”‚
    â”‚  3. Generate Response (STREAMING)                   â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚     â”‚ GEMINI 2.5 FLASH (with cache)  â”‚              â”‚
    â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
    â”‚     â”‚ Context:                       â”‚              â”‚
    â”‚     â”‚ â€¢ Analysis data                â”‚              â”‚
    â”‚     â”‚ â€¢ Retrieved KB chunks          â”‚              â”‚
    â”‚     â”‚ â€¢ Conversation history         â”‚              â”‚
    â”‚     â”‚                                â”‚              â”‚
    â”‚     â”‚ Output: Streaming chunks       â”‚              â”‚
    â”‚     â”‚ â””â”€â–º "The 1.2mm wall..."       â”‚              â”‚
    â”‚     â”‚     "...thickness is below..." â”‚              â”‚
    â”‚     â”‚     "...the recommended..."    â”‚              â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                                                      â”‚
    â”‚  4. Extract Sources                                 â”‚
    â”‚     â””â”€ Grounding metadata â†’ Citations               â”‚
    â”‚                                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              AI RESPONSE                             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  The 1.2mm wall thickness is below the recommended  â”‚
    â”‚  minimum of 1.5mm for ABS material...               â”‚
    â”‚                                                      â”‚
    â”‚  **Material Flow Issues:**                          â”‚
    â”‚  â€¢ ABS has high viscosity when molten               â”‚
    â”‚  â€¢ Thin walls create high flow resistance           â”‚
    â”‚  â€¢ Risk of "short shot" defects                     â”‚
    â”‚                                                      â”‚
    â”‚  **Recommendation:**                                 â”‚
    â”‚  Increase to 1.5mm minimum. Ideally 2.0-2.5mm.     â”‚
    â”‚                                                      â”‚
    â”‚  ğŸ“š Sources:                                         â”‚
    â”‚  â€¢ Molding_Best_Practices_2024.pdf (Page 23)       â”‚
    â”‚  â€¢ ABS_Material_Spec.pdf (Page 12)                  â”‚
    â”‚  â€¢ Your analysis (Page 2, Detail B)                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 5: ITERATE   â”‚  (Engineering Loop)
â”‚   & IMPROVE       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Engineer   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Update CAD (fix wall thickness)
           â”‚
           â”œâ”€â”€â–º Re-upload Drawing
           â”‚    â””â”€ Gen6_Housing_Rev4.pdf
           â”‚
           â”œâ”€â”€â–º New Analysis (40s)
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              NEW RESULTS                             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Status: âœ… Improved                                 â”‚
    â”‚                                                      â”‚
    â”‚  Changes Detected:                                   â”‚
    â”‚  â”œâ”€ Wall thickness: 1.2mm â†’ 1.5mm âœ…                â”‚
    â”‚  â””â”€ Critical issues: 2 â†’ 1 (50% reduction)          â”‚
    â”‚                                                      â”‚
    â”‚  Remaining Issues:                                   â”‚
    â”‚  â””â”€ 1 critical (draft angle)                        â”‚
    â”‚                                                      â”‚
    â”‚  Ready for Tooling: 90%                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º Iterate until 100%
           â”‚
           â””â”€â”€â–º Download Final Reports â†’ Sign-off


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 6: METRICS   â”‚  (Admin Dashboard)
â”‚  & MONITORING     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           REAL-TIME METRICS                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                      â”‚
    â”‚  Analyses (Last 30 days): 127                       â”‚
    â”‚  â”œâ”€ Flash mode: 102 (80%)                           â”‚
    â”‚  â””â”€ Pro mode: 25 (20%)                              â”‚
    â”‚                                                      â”‚
    â”‚  RAG Quality:                                        â”‚
    â”‚  â”œâ”€ Groundedness: 0.87  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                   â”‚
    â”‚  â”œâ”€ Relevance: 0.92     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                  â”‚
    â”‚  â””â”€ Coherence: 0.89     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰                   â”‚
    â”‚                                                      â”‚
    â”‚  Performance:                                        â”‚
    â”‚  â”œâ”€ Avg analysis time: 38s                          â”‚
    â”‚  â”œâ”€ Cache hit rate: 56%                             â”‚
    â”‚  â””â”€ p95 latency: 52s                                â”‚
    â”‚                                                      â”‚
    â”‚  Costs (Month):                                      â”‚
    â”‚  â”œâ”€ Gemini: $28 (Context caching: -75%)             â”‚
    â”‚  â”œâ”€ Vector Search: $547                             â”‚
    â”‚  â””â”€ Total: $577 (13% under budget) âœ…               â”‚
    â”‚                                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Flujo Simplificado (Vista de Usuario)

```
ENGINEER'S JOURNEY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Upload Drawing
   â”‚
   â”œâ”€â–º Drop PDF file
   â”œâ”€â–º Enter project name
   â””â”€â–º Click "Analyze"
   â”‚
   â”‚   â±ï¸  Wait 40 seconds
   â–¼

Step 2: Review Results
   â”‚
   â”œâ”€â–º See extraction summary (49 dims, 12 GD&T)
   â”œâ”€â–º See exception summary (2 critical, 5 high)
   â””â”€â–º Download reports (Executive + Detailed)
   â”‚
   â–¼

Step 3: Ask Questions
   â”‚
   â”œâ”€â–º "Why is this dimension flagged?"
   â”œâ”€â–º AI explains with sources
   â””â”€â–º Get actionable recommendations
   â”‚
   â–¼

Step 4: Iterate Design
   â”‚
   â”œâ”€â–º Fix issues in CAD
   â”œâ”€â–º Re-upload updated drawing
   â””â”€â–º Verify improvements
   â”‚
   â–¼

Step 5: Sign-off
   â”‚
   â”œâ”€â–º All issues resolved
   â”œâ”€â–º Download final reports
   â””â”€â–º Send to fabrication
   â”‚
   âœ… DONE!

Total Time: 15-20 minutes (vs 2-3 hours manual)
```

---

## ğŸ”„ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER     â”‚
â”‚  (Browser) â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚ HTTPS
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND (Vercel)                                      â”‚
â”‚  â”œâ”€ React/Next.js                                       â”‚
â”‚  â”œâ”€ UI Components                                       â”‚
â”‚  â””â”€ State Management                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ REST API
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND (Cloud Run)                                    â”‚
â”‚  â”œâ”€ FastAPI                                             â”‚
â”‚  â”œâ”€ Python 3.11                                         â”‚
â”‚  â””â”€ Async processing                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                                  â”‚
               â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLOUD STORAGE           â”‚     â”‚  VERTEX AI               â”‚
â”‚  â”œâ”€ Manuals bucket       â”‚     â”‚  â”œâ”€ Gemini 2.5 Flash     â”‚
â”‚  â”œâ”€ Drawings bucket      â”‚     â”‚  â”œâ”€ Gemini 2.5 Pro       â”‚
â”‚  â””â”€ Reports bucket       â”‚     â”‚  â”œâ”€ RAG Engine           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”œâ”€ Vector Search        â”‚
                                 â”‚  â”œâ”€ Embeddings           â”‚
                                 â”‚  â””â”€ Document AI          â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATABASE (SQLite / Cloud SQL)                          â”‚
â”‚  â”œâ”€ Documents metadata                                  â”‚
â”‚  â”œâ”€ Analyses metadata                                   â”‚
â”‚  â””â”€ Metrics tracking                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Performance Characteristics

```
OPERATION              TIME        COST        QUALITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Upload Document       <1s         $0          N/A
Index Document        2-3min      $0.10       High
Upload Drawing        <1s         $0          N/A
Analyze Drawing       40s         $0.50       High (Flash)
                      45s         $2.00       Very High (Pro)
Generate Reports      5s          $0          N/A
Chat Query            2-3s        $0.01       High
Chat (w/ cache)       2-3s        $0.0025     High (-75%)
```

---

## ğŸ¨ UI/UX Highlights

### 1. Progressive Disclosure

```
SIMPLE VIEW (Default)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload Drawing          â”‚
â”‚ [Drop file here]        â”‚
â”‚ [Analyze]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â†“ Click "Advanced"

ADVANCED VIEW (Power Users)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload Drawing          â”‚
â”‚ [Drop file here]        â”‚
â”‚                         â”‚
â”‚ âš™ï¸  Advanced Options:   â”‚
â”‚ â”œâ”€ Quality Mode         â”‚
â”‚ â”œâ”€ OCR Fallback         â”‚
â”‚ â”œâ”€ Custom Rules         â”‚
â”‚ â””â”€ Output Format        â”‚
â”‚                         â”‚
â”‚ [Analyze]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Real-time Feedback

```
UPLOAD
  â”‚
  â”œâ”€â–º â³ Uploading... (1s)
  â”œâ”€â–º âœ… Uploaded
  â”‚
PROCESSING
  â”‚
  â”œâ”€â–º â³ Converting PDF...
  â”œâ”€â–º â³ Analyzing with AI...
  â”œâ”€â–º â³ Validating exceptions...
  â”œâ”€â–º â³ Generating reports...
  â”‚
  â””â”€â–º âœ… Complete!
```

### 3. Streaming Chat (Perceived Performance)

```
WITHOUT STREAMING:
User types â†’ [waiting...] â†’ Full response appears (3s)
Feels slow âŒ

WITH STREAMING:
User types â†’ Response starts (0.5s) â†’ Continues â†’ Complete (3s)
Feels fast âœ…
```

---

## ğŸ” Security & Privacy Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authentication  â”‚  API Key / JWT
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rate Limiting   â”‚  10 req/min
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DLP Scanning    â”‚  Check for PII
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Request â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Audit Logging   â”‚  Cloud Logging
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ãšltima actualizaciÃ³n**: 4 de Noviembre, 2025
**VersiÃ³n**: 1.0.0
**Status**: Production-Ready
